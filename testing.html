<!DOCTYPE html>
<html>
<body>
    <canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">
        Your browser does not support the HTML5 canvas tag.
    </canvas>
    <script>
        let bezierPoints = [];

        function createBezier(ctrl1, ctrl2, ctrl3, iterations) {
            bezierPoints = [];
            bezierPoints.push(ctrl1); 
            populateBezierPoints(ctrl1, ctrl2, ctrl3, 0, iterations);
            bezierPoints.push(ctrl3); 
            return bezierPoints;
        }

        function populateBezierPoints(ctrl1, ctrl2, ctrl3, currentIteration, iterations) {
            if (currentIteration < iterations) {
                let midPoint1 = midPoint(ctrl1, ctrl2);
                let midPoint2 = midPoint(ctrl2, ctrl3);
                let midPoint3 = midPoint(midPoint1, midPoint2);
                currentIteration++;
                populateBezierPoints(ctrl1, midPoint1, midPoint3, currentIteration, iterations);
                bezierPoints.push(midPoint3);
                populateBezierPoints(midPoint3, midPoint2, ctrl3, currentIteration, iterations);
            }
        }

        function midPoint(controlPoint1, controlPoint2) {
            return {
                x: (controlPoint1.x + controlPoint2.x) / 2,
                y: (controlPoint1.y + controlPoint2.y) / 2
            };
        }

        let ctrl1 = {x: 50, y: 250};
        let ctrl2 = {x: 250, y: 150};
        let ctrl3 = {x: 450, y: 250};
        let iterations = 5;
        let points = createBezier(ctrl1, ctrl2, ctrl3, iterations);

        let canvas = document.getElementById('myCanvas');
        let ctx = canvas.getContext('2d');
        ctx.beginPath();
        ctx.moveTo(points[0].x, points[0].y);
        for(let i = 1; i < points.length; i++) {
            ctx.lineTo(points[i].x, points[i].y);
        }
        ctx.stroke();

        // Draw control points
        [ctrl1, ctrl2, ctrl3].forEach(point => {
            ctx.beginPath();
            ctx.arc(point.x, point.y, 5, 0, 2 * Math.PI); // draw a circle at the control point
            ctx.fillStyle = 'red';
            ctx.fill();
        });

        ctx.beginPath();
        ctx.moveTo(ctrl1.x, ctrl1.y);
        ctx.lineTo(ctrl2.x, ctrl2.y);
        ctx.lineTo(ctrl3.x, ctrl3.y);
        ctx.strokeStyle = 'blue'; // change color to blue
        ctx.stroke();
    </script>
</body>
</html>